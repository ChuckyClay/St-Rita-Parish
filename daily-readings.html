<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Daily Readings - St. Rita Parish</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <header class="site-header">
    <div class="brand">
      <h1>St. Rita Parish</h1>
    </div>
    <button id="menu-toggle" class="menu-toggle">â˜°</button>
    <nav>
      <a href="index.html">Home</a>
      <a href="about.html">About</a>
      <a href="mass-sacraments.html">Mass & Sacraments</a>
      <a href="groups-ministries.html">Groups & Ministries</a>
      <a href="announcements-events.html">Announcements & Events</a>
      <a href="daily-readings.html" class="active">Daily Readings</a>
        <!-- Gallery link removed -->
      <a href="contact.html">Contact</a>
      <a href="admin.html" target="_blank">Admin</a>
    </nav>
  </header>

  <main class="container">
    <section>
      <h2>Daily Readings</h2>
      <div id="daily-readings-full"></div>
      <p>For the complete readings and audio, visit the <a href="#" id="source-link" target="_blank">official Catholic source</a>.</p>
    </section>
  </main>

  <footer class="site-footer">&copy; 2025 St. Rita Parish <br> <i>Designed by DevTwins Developers</i></footer>

  <script>
    async function loadDailyReadingsFull() {
      const container = document.getElementById('daily-readings-full');
      const sourceLink = document.getElementById('source-link');
      try {
        const res = await fetch('https://st-rita-parish.onrender.com/api/readings');
        const readings = await res.json();
        const today = new Date().toISOString().split('T')[0];
        const todayReadings = readings.filter(r => r.date === today);
        if (todayReadings.length > 0) {
          container.innerHTML = `<p class="meta">${new Date(today).toLocaleDateString()}</p>` +
            todayReadings.map(r => `
              <div class="card">
                <h3>${r.title}</h3>
                <p style="white-space: pre-line;">${r.content}</p>
              </div>
            `).join('');
        } else {
          container.innerHTML = `<div class="card"><p>No readings available for today.</p></div>`;
        }
        // Optionally set source link if you want
        // sourceLink.href = 'https://www.catholic.org/bible/daily_reading/';
      } catch (err) {
        container.innerHTML = `<div class="card"><p>Unable to load daily readings.</p></div>`;
      }
    }

    loadDailyReadingsFull();
  </script>
  <script src="app.js"></script>
</body>
</html>